!function t(e,n,r){function o(u,c){if(!n[u]){if(!e[u]){var f="function"==typeof require&&require;if(!c&&f)return f(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var a=n[u]={exports:{}};e[u][0].call(a.exports,function(t){var n=e[u][1][t];return o(n?n:t)},a,a.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,e,n){function r(){a&&c&&(a=!1,c.length?s=c.concat(s):l=-1,s.length&&o())}function o(){if(!a){var t=setTimeout(r);a=!0;for(var e=s.length;e;){for(c=s,s=[];++l<e;)c&&c[l].run();l=-1,e=s.length}c=null,a=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function u(){}var c,f=e.exports={},s=[],a=!1,l=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new i(t,e)),1!==s.length||a||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],2:[function(t,e,n){!function(t,e){"use strict";var n;t(function(t){function r(t,e){var n,r,o,i;if(n=t,o={},e){for(r in e)i=new RegExp("\\{"+r+"\\}"),i.test(n)?n=n.replace(i,encodeURIComponent(e[r]),"g"):o[r]=e[r];for(r in o)n+=-1===n.indexOf("?")?"?":"&",n+=encodeURIComponent(r),null!==o[r]&&void 0!==o[r]&&(n+="=",n+=encodeURIComponent(o[r]))}return n}function o(t,e){return 0===t.indexOf(e)}function i(t,e){return this instanceof i?void(t instanceof i?(this._template=t.template,this._params=u({},this._params,e)):(this._template=(t||"").toString(),this._params=e||{})):new i(t,e)}var u,c,f,s,a;return u=t("./util/mixin"),f=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,s=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,a=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,i.prototype={append:function(t,e){return new i(this._template+t,u({},this._params,e))},fullyQualify:function(){if(!e)return this;if(this.isFullyQualified())return this;var t=this._template;return o(t,"//")?t=c.protocol+t:o(t,"/")?t=c.origin+t:this.isAbsolute()||(t=c.origin+c.pathname.substring(0,c.pathname.lastIndexOf("/")+1)),-1===t.indexOf("/",8)&&(t+="/"),new i(t,this._params)},isAbsolute:function(){return s.test(this.build())},isFullyQualified:function(){return a.test(this.build())},isCrossOrigin:function(){if(!c)return!0;var t=this.parts();return t.protocol!==c.protocol||t.hostname!==c.hostname||t.port!==c.port},parts:function(){var t,e;return t=this.fullyQualify().build().match(f),e={href:t[0],protocol:t[1],host:t[3]||"",hostname:t[4]||"",port:t[6],pathname:t[7]||"",search:t[8]||"",hash:t[9]||""},e.origin=e.protocol+"//"+e.host,e.port=e.port||("https:"===e.protocol?"443":"http:"===e.protocol?"80":""),e},build:function(t){return r(this._template,u({},this._params,t))},toString:function(){return this.build()}},c=e?new i(e.href).parts():n,i})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)},"undefined"!=typeof window?window.location:void 0)},{"./util/mixin":27}],3:[function(t,e,n){!function(t){"use strict";t(function(t){var e=t("./client/default"),n=t("./client/xhr");return e.setPlatformDefaultClient(n),e})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./client/default":5,"./client/xhr":6}],4:[function(t,e,n){!function(t){"use strict";t(function(){return function(t,e){return e&&(t.skip=function(){return e}),t.wrap=function(e,n){return e(t,n)},t.chain=function(){return"undefined"!=typeof console&&console.log("rest.js: client.chain() is deprecated, use client.wrap() instead"),t.wrap.apply(this,arguments)},t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],5:[function(t,e,n){!function(t){"use strict";var e;t(function(t){function n(){return o.apply(e,arguments)}var r,o,i;return r=t("../client"),n.setDefaultClient=function(t){o=t},n.getDefaultClient=function(){return o},n.resetDefaultClient=function(){o=i},n.setPlatformDefaultClient=function(t){if(i)throw new Error("Unable to redefine platformDefaultClient");o=i=t},r(n)})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../client":4}],6:[function(t,e,n){!function(t,e){"use strict";t(function(t){function n(t){var e={};return t?(t.trim().split(s).forEach(function(t){var n,r,o;n=t.indexOf(":"),r=u(t.substring(0,n).trim()),o=t.substring(n+1).trim(),e[r]?Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]:e[r]=o}),e):e}function r(t,e){return Object.keys(e||{}).forEach(function(n){if(e.hasOwnProperty(n)&&n in t)try{t[n]=e[n]}catch(r){}}),t}var o,i,u,c,f,s;return o=t("when"),i=t("../UrlBuilder"),u=t("../util/normalizeHeaderName"),c=t("../util/responsePromise"),f=t("../client"),s=/[\r|\n]+/,f(function(t){return c.promise(function(o,u){var c,f,s,a,l,h,p,d;if(t="string"==typeof t?{path:t}:t||{},p={request:t},t.canceled)return p.error="precanceled",void u(p);if(l=t.entity,t.method=t.method||(l?"POST":"GET"),f=t.method,s=p.url=new i(t.path||"",t.params).build(),d=t.engine||e.XMLHttpRequest,!d)return void u({request:t,url:s,error:"xhr-not-available"});try{c=p.raw=new d,r(c,t.mixin),c.open(f,s,!0),r(c,t.mixin),a=t.headers;for(h in a)"Content-Type"===h&&"multipart/form-data"===a[h]||c.setRequestHeader(h,a[h]);t.canceled=!1,t.cancel=function(){t.canceled=!0,c.abort(),u(p)},c.onreadystatechange=function(){t.canceled||c.readyState===(d.DONE||4)&&(p.status={code:c.status,text:c.statusText},p.headers=n(c.getAllResponseHeaders()),p.entity=c.responseText,p.status.code>0?o(p):setTimeout(function(){o(p)},0))};try{c.onerror=function(){p.error="loaderror",u(p)}}catch(y){}c.send(l)}catch(y){p.error="loaderror",u(p)}})})})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)},"undefined"!=typeof window?window:void 0)},{"../UrlBuilder":2,"../client":4,"../util/normalizeHeaderName":28,"../util/responsePromise":29,when:25}],7:[function(t,e,n){!function(t){"use strict";t(function(t){function e(t){return t}function n(t){return t}function r(t){return t}function o(t){return l.promise(function(e,n){t.forEach(function(t){l(t,e,n)})})}function i(t){return this instanceof i?void f(this,t):new i(t)}function u(t){var u,f,h,p;return t=t||{},u=t.init||e,f=t.request||n,h=t.success||t.response||r,p=t.error||function(){return l((t.response||r).apply(this,arguments),l.reject,l.reject)},function(e,n){function r(t){var u,c;return u={},c={arguments:Array.prototype.slice.call(arguments),client:r},t="string"==typeof t?{path:t}:t||{},t.originator=t.originator||r,s(f.call(u,t,n,c),function(t){var r,f,s;return s=e,t instanceof i&&(f=t.abort,s=t.client||s,r=t.response,t=t.request),r=r||l(t,function(t){return l(s(t),function(t){return h.call(u,t,n,c)},function(t){return p.call(u,t,n,c)})}),f?o([r,f]):r},function(e){return l.reject({request:t,error:e})})}return"object"==typeof e&&(n=e),"function"!=typeof e&&(e=t.client||c),n=u(n||{}),a(r,e)}}var c,f,s,a,l;return c=t("./client/default"),f=t("./util/mixin"),s=t("./util/responsePromise"),a=t("./client"),l=t("when"),u.ComplexRequest=i,u})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./client":4,"./client/default":5,"./util/mixin":27,"./util/responsePromise":29,when:25}],8:[function(t,e,n){!function(t){"use strict";t(function(t){var e=t("./makePromise"),n=t("./Scheduler"),r=t("./env").asap;return e({scheduler:new n(r)})})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./Scheduler":9,"./env":21,"./makePromise":23}],9:[function(t,e,n){!function(t){"use strict";t(function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],10:[function(t,e,n){!function(t){"use strict";t(function(){function t(e){Error.call(this),this.message=e,this.name=t.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],11:[function(t,e,n){!function(t){"use strict";t(function(){function t(t,n){function r(e,r,i){var u=t._defer(),c=i.length,f=new Array(c);return o({f:e,thisArg:r,args:i,params:f,i:c-1,call:n},u._handler),u}function o(e,r){if(e.i<0)return n(e.f,e.thisArg,e.params,r);var o=t._handler(e.args[e.i]);o.fold(i,e,void 0,r)}function i(t,e,n){t.params[t.i]=e,t.i-=1,o(t,n)}return arguments.length<2&&(n=e),r}function e(t,e,n,r){try{r.resolve(t.apply(e,n))}catch(o){r.reject(o)}}return t.tryCatchResolve=e,t})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],12:[function(t,e,n){!function(t){"use strict";t(function(t){var e=t("../state"),n=t("../apply");return function(t){function r(e){function n(t){a=null,this.resolve(t)}function r(t){this.resolved||(a.push(t),0===--s&&this.reject(a))}for(var o,i,u=t._defer(),c=u._handler,f=e.length>>>0,s=f,a=[],l=0;f>l;++l)if(i=e[l],void 0!==i||l in e){if(o=t._handler(i),o.state()>0){c.become(o),t._visitRemaining(e,l,o);break}o.visit(c,n,r)}else--s;return 0===s&&c.reject(new RangeError("any(): array must not be empty")),u}function o(e,n){function r(t){this.resolved||(a.push(t),0===--p&&(l=null,this.resolve(a)))}function o(t){this.resolved||(l.push(t),0===--i&&(a=null,this.reject(l)))}var i,u,c,f=t._defer(),s=f._handler,a=[],l=[],h=e.length>>>0,p=0;for(c=0;h>c;++c)u=e[c],(void 0!==u||c in e)&&++p;for(n=Math.max(n,0),i=p-n+1,p=Math.min(n,p),n>p?s.reject(new RangeError("some(): array must contain at least "+n+" item(s), but had "+p)):0===p&&s.resolve(a),c=0;h>c;++c)u=e[c],(void 0!==u||c in e)&&t._handler(u).visit(s,r,o,s.notify);return f}function i(e,n){return t._traverse(n,e)}function u(e,n){var r=w.call(e);return t._traverse(n,r).then(function(t){return c(r,t)})}function c(e,n){for(var r=n.length,o=new Array(r),i=0,u=0;r>i;++i)n[i]&&(o[u++]=t._handler(e[i]).value);return o.length=u,o}function f(t){return y(t.map(s))}function s(n){var r=t._handler(n);return 0===r.state()?d(n).then(e.fulfilled,e.rejected):(r._unreport(),e.inspect(r))}function a(t,e){return arguments.length>2?v.call(t,h(e),arguments[2]):v.call(t,h(e))}function l(t,e){return arguments.length>2?m.call(t,h(e),arguments[2]):m.call(t,h(e))}function h(t){return function(e,n,r){return p(t,void 0,[e,n,r])}}var p=n(t),d=t.resolve,y=t.all,v=Array.prototype.reduce,m=Array.prototype.reduceRight,w=Array.prototype.slice;return t.any=r,t.some=o,t.settle=f,t.map=i,t.filter=u,t.reduce=a,t.reduceRight=l,t.prototype.spread=function(t){return this.then(y).then(function(e){return t.apply(this,e)})},t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../apply":11,"../state":24}],13:[function(t,e,n){!function(t){"use strict";t(function(){function t(){throw new TypeError("catch predicate must be a function")}function e(t,e){return n(e)?t instanceof e:e(t)}function n(t){return t===Error||null!=t&&t.prototype instanceof Error}function r(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function o(t){return t}return function(n){function i(t,n){return function(r){return e(r,n)?t.call(this,r):s(r)}}function u(t,e,n,o){var i=t.call(e);return r(i)?c(i,n,o):n(o)}function c(t,e,n){return f(t).then(function(){return e(n)})}var f=n.resolve,s=n.reject,a=n.prototype["catch"];return n.prototype.done=function(t,e){this._handler.visit(this._handler.receiver,t,e)},n.prototype["catch"]=n.prototype.otherwise=function(e){return arguments.length<2?a.call(this,e):"function"!=typeof e?this.ensure(t):a.call(this,i(arguments[1],e))},n.prototype["finally"]=n.prototype.ensure=function(t){return"function"!=typeof t?this:this.then(function(e){return u(t,this,o,e)},function(e){return u(t,this,s,e)})},n.prototype["else"]=n.prototype.orElse=function(t){return this.then(void 0,function(){return t})},n.prototype["yield"]=function(t){return this.then(function(){return t})},n.prototype.tap=function(t){return this.then(t)["yield"](this)},n}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],14:[function(t,e,n){!function(t){"use strict";t(function(){return function(t){return t.prototype.fold=function(e,n){var r=this._beget();return this._handler.fold(function(n,r,o){t._handler(n).fold(function(t,n,r){r.resolve(e.call(this,n,t))},r,this,o)},n,r._handler.receiver,r._handler),r},t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],15:[function(t,e,n){!function(t){"use strict";t(function(t){var e=t("../state").inspect;return function(t){return t.prototype.inspect=function(){return e(t._handler(this))},t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../state":24}],16:[function(t,e,n){!function(t){"use strict";t(function(){return function(t){function e(t,e,r,o){return n(function(e){return[e,t(e)]},e,r,o)}function n(t,e,o,i){function u(i,u){return r(o(i)).then(function(){return n(t,e,o,u)})}return r(i).then(function(n){return r(e(n)).then(function(e){return e?n:r(t(n)).spread(u)})})}var r=t.resolve;return t.iterate=e,t.unfold=n,t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],17:[function(t,e,n){!function(t){"use strict";t(function(){return function(t){return t.prototype.progress=function(t){return this.then(void 0,void 0,t)},t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],18:[function(t,e,n){!function(t){"use strict";t(function(t){function e(t,e,r,o){return n.setTimer(function(){t(r,o,e)},e)}var n=t("../env"),r=t("../TimeoutError");return function(t){function o(t,n,r){e(i,t,n,r)}function i(t,e){e.resolve(t)}function u(t,e,n){var o="undefined"==typeof t?new r("timed out after "+n+"ms"):t;e.reject(o)}return t.prototype.delay=function(t){var e=this._beget();return this._handler.fold(o,t,void 0,e._handler),e},t.prototype.timeout=function(t,r){var o=this._beget(),i=o._handler,c=e(u,t,r,o._handler);return this._handler.visit(i,function(t){n.clearTimer(c),this.resolve(t)},function(t){n.clearTimer(c),this.reject(t)},i.notify),o},t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../TimeoutError":10,"../env":21}],19:[function(t,e,n){!function(t){"use strict";t(function(t){function e(t){throw t}function n(){}var r=t("../env").setTimer,o=t("../format");return function(t){function i(t){t.handled||(p.push(t),a("Potentially unhandled rejection ["+t.id+"] "+o.formatError(t.value)))}function u(t){var e=p.indexOf(t);e>=0&&(p.splice(e,1),l("Handled previous rejection ["+t.id+"] "+o.formatObject(t.value)))}function c(t,e){h.push(t,e),null===d&&(d=r(f,0))}function f(){for(d=null;h.length>0;)h.shift()(h.shift())}var s,a=n,l=n;"undefined"!=typeof console&&(s=console,a="undefined"!=typeof s.error?function(t){s.error(t)}:function(t){s.log(t)},l="undefined"!=typeof s.info?function(t){s.info(t)}:function(t){s.log(t)}),t.onPotentiallyUnhandledRejection=function(t){c(i,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){c(u,t)},t.onFatalRejection=function(t){c(e,t.value)};var h=[],p=[],d=null;return t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../env":21,"../format":22}],20:[function(t,e,n){!function(t){"use strict";t(function(){return function(t){return t.prototype["with"]=t.prototype.withThis=function(t){var e=this._beget(),n=e._handler;return n.receiver=t,this._handler.chain(n,t),e},t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],21:[function(t,e,n){(function(n){!function(t){"use strict";t(function(t){function e(){return"undefined"!=typeof n&&"[object process]"===Object.prototype.toString.call(n)}function r(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function o(t){function e(){var t=n;n=void 0,t()}var n,r=document.createTextNode(""),o=new t(e);o.observe(r,{characterData:!0});var i=0;return function(t){n=t,r.data=i^=1}}var i,u="undefined"!=typeof setTimeout&&setTimeout,c=function(t,e){return setTimeout(t,e)},f=function(t){return clearTimeout(t)},s=function(t){return u(t,0)};if(e())s=function(t){return n.nextTick(t)};else if(i=r())s=o(i);else if(!u){var a=t,l=a("vertx");c=function(t,e){return l.setTimer(e,t)},f=l.cancelTimer,s=l.runOnLoop||l.runOnContext}return{setTimer:c,clearTimer:f,asap:s}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})}).call(this,t("_process"))},{_process:1}],22:[function(t,e,n){!function(t){"use strict";t(function(){function t(t){var n="object"==typeof t&&null!==t&&(t.stack||t.message)?t.stack||t.message:e(t);return t instanceof Error?n:n+" (WARNING: non-Error used)"}function e(t){var e=String(t);return"[object Object]"===e&&"undefined"!=typeof JSON&&(e=n(t,e)),e}function n(t,e){try{return JSON.stringify(t)}catch(n){return e}}return{formatError:t,formatObject:e,tryStringify:n}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],23:[function(t,e,n){(function(t){!function(e){"use strict";e(function(){return function(e){function n(t,e){this._handler=t===b?e:r(t)}function r(t){function e(t){o.resolve(t)}function n(t){o.reject(t)}function r(t){o.notify(t)}var o=new j;try{t(e,n,r)}catch(i){n(i)}return o}function o(t){return L(t)?t:new n(b,new x(m(t)))}function i(t){return new n(b,new x(new T(t)))}function u(){return tt}function c(){return new n(b,new j)}function f(t,e){var n=new j(t.receiver,t.join().context);return new e(b,n)}function s(t){return l(K,null,t)}function a(t,e){return l(N,t,e)}function l(t,e,r){function o(n,o,u){u.resolved||h(r,i,n,t(e,o,n),u)}function i(t,e,n){a[t]=e,0===--s&&n.become(new A(a))}for(var u,c="function"==typeof e?o:i,f=new j,s=r.length>>>0,a=new Array(s),l=0;l<r.length&&!f.resolved;++l)u=r[l],void 0!==u||l in r?h(r,c,l,u,f):--s;return 0===s&&f.become(new A(a)),new n(b,f)}function h(t,e,n,r,o){if(I(r)){var i=w(r),u=i.state();0===u?i.fold(e,n,void 0,o):u>0?e(n,i.value,o):(o.become(i),p(t,n+1,i))}else e(n,r,o)}function p(t,e,n){for(var r=e;r<t.length;++r)d(m(t[r]),n)}function d(t,e){if(t!==e){var n=t.state();0===n?t.visit(t,void 0,t._unreport):0>n&&t._unreport()}}function y(t){return"object"!=typeof t||null===t?i(new TypeError("non-iterable passed to race()")):0===t.length?u():1===t.length?o(t[0]):v(t)}function v(t){var e,r,o,i=new j;for(e=0;e<t.length;++e)if(r=t[e],void 0!==r||e in t){if(o=m(r),0!==o.state()){i.become(o),p(t,e+1,o);break}o.visit(i,i.resolve,i.reject)}return new n(b,i)}function m(t){return L(t)?t._handler.join():I(t)?g(t):new A(t)}function w(t){return L(t)?t._handler.join():g(t)}function g(t){try{var e=t.then;return"function"==typeof e?new C(e,t):new A(t)}catch(n){return new T(n)}}function b(){}function _(){}function j(t,e){n.createContext(this,e),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function x(t){this.handler=t}function C(t,e){j.call(this),G.enqueue(new k(t,e,this))}function A(t){n.createContext(this),this.value=t}function T(t){n.createContext(this),this.id=++Z,this.value=t,this.handled=!1,this.reported=!1,this._report()}function E(t,e){this.rejection=t,this.context=e}function O(t){this.rejection=t}function P(){return new T(new TypeError("Promise cycle"))}function q(t,e){this.continuation=t,this.handler=e}function R(t,e){this.handler=e,this.value=t}function k(t,e,n){this._then=t,this.thenable=e,this.resolver=n}function S(t,e,n,r,o){try{t.call(e,n,r,o)}catch(i){r(i)}}function U(t,e,n,r){this.f=t,this.z=e,this.c=n,this.to=r,this.resolver=Y,this.receiver=this}function L(t){return t instanceof n}function I(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function z(t,e,r,o){return"function"!=typeof t?o.become(e):(n.enterContext(e),Q(t,e.value,r,o),void n.exitContext())}function D(t,e,r,o,i){return"function"!=typeof t?i.become(r):(n.enterContext(r),F(t,e,r.value,o,i),void n.exitContext())}function H(t,e,r,o,i){return"function"!=typeof t?i.notify(e):(n.enterContext(r),M(t,e,o,i),void n.exitContext())}function N(t,e,n){try{return t(e,n)}catch(r){return i(r)}}function Q(t,e,n,r){try{r.become(m(t.call(n,e)))}catch(o){r.become(new T(o))}}function F(t,e,n,r,o){try{t.call(r,e,n,o)}catch(i){o.become(new T(i))}}function M(t,e,n,r){try{r.notify(t.call(n,e))}catch(o){r.notify(o)}}function J(t,e){e.prototype=V(t.prototype),e.prototype.constructor=e}function K(t,e){return e}function B(){}function W(){return"undefined"!=typeof t&&null!==t&&"function"==typeof t.emit?function(e,n){return"unhandledRejection"===e?t.emit(e,n.value,n):t.emit(e,n)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(t,e,n){var r=!1;try{var o=new n("unhandledRejection");r=o instanceof n}catch(i){}return r?function(t,r){var o=new n(t,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!e.dispatchEvent(o)}:t}(B,self,CustomEvent):B}var G=e.scheduler,X=W(),V=Object.create||function(t){function e(){}return e.prototype=t,new e};n.resolve=o,n.reject=i,n.never=u,n._defer=c,n._handler=m,n.prototype.then=function(t,e,n){var r=this._handler,o=r.join().state();if("function"!=typeof t&&o>0||"function"!=typeof e&&0>o)return new this.constructor(b,r);var i=this._beget(),u=i._handler;return r.chain(u,r.receiver,t,e,n),i},n.prototype["catch"]=function(t){return this.then(void 0,t)},n.prototype._beget=function(){return f(this._handler,this.constructor)},n.all=s,n.race=y,n._traverse=a,n._visitRemaining=p,b.prototype.when=b.prototype.become=b.prototype.notify=b.prototype.fail=b.prototype._unreport=b.prototype._report=B,b.prototype._state=0,b.prototype.state=function(){return this._state},b.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},b.prototype.chain=function(t,e,n,r,o){this.when({resolver:t,receiver:e,fulfilled:n,rejected:r,progress:o})},b.prototype.visit=function(t,e,n,r){this.chain(Y,t,e,n,r)},b.prototype.fold=function(t,e,n,r){this.when(new U(t,e,n,r))},J(b,_),_.prototype.become=function(t){t.fail()};var Y=new _;J(b,j),j.prototype._state=0,j.prototype.resolve=function(t){this.become(m(t))},j.prototype.reject=function(t){this.resolved||this.become(new T(t))},j.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if(t=t.handler,t===this)return this.handler=P();return t},j.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<t.length;++n)e.when(t[n])},j.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&G.enqueue(this),void 0!==this.context&&t._report(this.context))},j.prototype.when=function(t){this.resolved?G.enqueue(new q(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},j.prototype.notify=function(t){this.resolved||G.enqueue(new R(t,this))},j.prototype.fail=function(t){var e="undefined"==typeof t?this.context:t;this.resolved&&this.handler.join().fail(e)},j.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},j.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},J(b,x),x.prototype.when=function(t){G.enqueue(new q(t,this))},x.prototype._report=function(t){this.join()._report(t)},x.prototype._unreport=function(){this.join()._unreport()},J(j,C),J(b,A),A.prototype._state=1,A.prototype.fold=function(t,e,n,r){D(t,e,this,n,r)},A.prototype.when=function(t){z(t.fulfilled,this,t.receiver,t.resolver)};var Z=0;J(b,T),T.prototype._state=-1,T.prototype.fold=function(t,e,n,r){r.become(this)},T.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),z(t.rejected,this,t.receiver,t.resolver)},T.prototype._report=function(t){G.afterQueue(new E(this,t))},T.prototype._unreport=function(){this.handled||(this.handled=!0,G.afterQueue(new O(this)))},T.prototype.fail=function(t){this.reported=!0,X("unhandledRejection",this),n.onFatalRejection(this,void 0===t?this.context:t)},E.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,X("unhandledRejection",this.rejection)||n.onPotentiallyUnhandledRejection(this.rejection,this.context))},O.prototype.run=function(){this.rejection.reported&&(X("rejectionHandled",this.rejection)||n.onPotentiallyUnhandledRejectionHandled(this.rejection))},n.createContext=n.enterContext=n.exitContext=n.onPotentiallyUnhandledRejection=n.onPotentiallyUnhandledRejectionHandled=n.onFatalRejection=B;var $=new b,tt=new n(b,$);return q.prototype.run=function(){this.handler.join().when(this.continuation)},R.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,n=0;n<t.length;++n)e=t[n],H(e.progress,this.value,this.handler,e.receiver,e.resolver)},k.prototype.run=function(){function t(t){r.resolve(t)}function e(t){r.reject(t)}function n(t){r.notify(t)}var r=this.resolver;S(this._then,this.thenable,t,e,n)},U.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},U.prototype.rejected=function(t){this.to.reject(t)},U.prototype.progress=function(t){this.to.notify(t)},n}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})}).call(this,t("_process"))},{_process:1}],24:[function(t,e,n){!function(t){"use strict";t(function(){function t(){return{state:"pending"}}function e(t){return{state:"rejected",reason:t}}function n(t){return{state:"fulfilled",value:t}}function r(r){var o=r.state();return 0===o?t():o>0?n(r.value):e(r.value)}return{pending:t,fulfilled:n,rejected:e,inspect:r}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],25:[function(t,e,n){!function(t){"use strict";t(function(t){function e(t,e,n,r){var o=x.resolve(t);return arguments.length<2?o:o.then(e,n,r)}function n(t){return new x(t)}function r(t){return function(){for(var e=0,n=arguments.length,r=new Array(n);n>e;++e)r[e]=arguments[e];return C(t,this,r)}}function o(t){for(var e=0,n=arguments.length-1,r=new Array(n);n>e;++e)r[e]=arguments[e+1];return C(t,this,r)}function i(){return new u}function u(){function t(t){r._handler.resolve(t)}function e(t){r._handler.reject(t)}function n(t){r._handler.notify(t)}var r=x._defer();this.promise=r,this.resolve=t,this.reject=e,this.notify=n,this.resolver={resolve:t,reject:e,notify:n}}function c(t){return t&&"function"==typeof t.then}function f(){return x.all(arguments)}function s(t){return e(t,x.all)}function a(t){return e(t,x.settle)}function l(t,n){return e(t,function(t){return x.map(t,n)})}function h(t,n){return e(t,function(t){return x.filter(t,n)})}var p=t("./lib/decorators/timed"),d=t("./lib/decorators/array"),y=t("./lib/decorators/flow"),v=t("./lib/decorators/fold"),m=t("./lib/decorators/inspect"),w=t("./lib/decorators/iterate"),g=t("./lib/decorators/progress"),b=t("./lib/decorators/with"),_=t("./lib/decorators/unhandledRejection"),j=t("./lib/TimeoutError"),x=[d,y,v,w,g,m,b,p,_].reduce(function(t,e){return e(t)},t("./lib/Promise")),C=t("./lib/apply")(x);return e.promise=n,e.resolve=x.resolve,e.reject=x.reject,e.lift=r,e["try"]=o,e.attempt=o,e.iterate=x.iterate,e.unfold=x.unfold,e.join=f,e.all=s,e.settle=a,e.any=r(x.any),e.some=r(x.some),e.race=r(x.race),e.map=l,e.filter=h,e.reduce=r(x.reduce),e.reduceRight=r(x.reduceRight),e.isPromiseLike=c,e.Promise=x,e.defer=i,e.TimeoutError=j,e})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./lib/Promise":8,"./lib/TimeoutError":10,"./lib/apply":11,"./lib/decorators/array":12,"./lib/decorators/flow":13,"./lib/decorators/fold":14,"./lib/decorators/inspect":15,"./lib/decorators/iterate":16,"./lib/decorators/progress":17,"./lib/decorators/timed":18,"./lib/decorators/unhandledRejection":19,"./lib/decorators/with":20}],26:[function(t,e,n){!function(t){"use strict";t(function(){function t(t){if(/([^\u0000-\u00ff])/.test(t))throw new Error("Can't base64 encode non-ASCII characters.");for(var e,r,o,i=0,u=[];i<t.length;){switch(e=t.charCodeAt(i),o=i%3){case 0:u.push(n.charAt(e>>2));break;case 1:u.push(n.charAt((3&r)<<4|e>>4));break;case 2:u.push(n.charAt((15&r)<<2|e>>6)),u.push(n.charAt(63&e))}r=e,i+=1}return 0===o?(u.push(n.charAt((3&r)<<4)),u.push("==")):1===o&&(u.push(n.charAt((15&r)<<2)),u.push("=")),u.join("")}function e(t){if(t=t.replace(/\s/g,""),!/^[a-z0-9\+\/\s]+\={0,2}$/i.test(t)||t.length%4>0)throw new Error("Not a base64-encoded string.");var e,r,o,i=0,u=[];for(t=t.replace(/\=/g,"");i<t.length;){switch(e=n.indexOf(t.charAt(i)),o=i%4){case 1:u.push(String.fromCharCode(r<<2|e>>4));break;case 2:u.push(String.fromCharCode((15&r)<<4|e>>2));break;case 3:u.push(String.fromCharCode((3&r)<<6|e))}r=e,i+=1}return u.join("")}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return{encode:t,decode:e}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],27:[function(t,e,n){!function(t){"use strict";t(function(){function t(t){var n,r,o,i;for(t||(t={}),n=1,r=arguments.length;r>n;n+=1){o=arguments[n];for(i in o)i in t&&(t[i]===o[i]||i in e&&e[i]===o[i])||(t[i]=o[i])}return t}var e={};return t})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],28:[function(t,e,n){!function(t){"use strict";t(function(){function t(t){return t.toLowerCase().split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join("-")}return t})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],29:[function(t,e,n){!function(t){"use strict";t(function(t){function e(t,e){return t.then(function(t){return t&&t[e]},function(t){return s.reject(t&&t[e])})}function n(){return e(this,"entity")}function r(){return e(e(this,"status"),"code")}function o(){return e(this,"headers")}function i(t){return t=a(t),e(this.headers(),t)}function u(t){return t=[].concat(t),c(s.reduce(t,function(t,e){if("string"==typeof e&&(e={rel:e}),"function"!=typeof t.entity.clientFor)throw new Error("Hypermedia response expected");var n=t.entity.clientFor(e.rel);return n({params:e.params})},this))}function c(t){return t.status=r,t.headers=o,t.header=i,t.entity=n,t.follow=u,t}function f(){return c(s.apply(s,arguments))}var s=t("when"),a=t("./normalizeHeaderName");return f.make=c,f.reject=function(t){return c(s.reject(t))},f.promise=function(t){return c(s.promise(t))},f})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./normalizeHeaderName":28,when:25}],30:[function(t,e,n){window.BWD=t("./sdk")},{"./sdk":31}],31:[function(t,e,n){var r=function(t){return r.Config.set(t),r};r.DefaultConfig={AccessToken:"",APIEnv:"test",APIHost:"betterweekdays-[env].apigee.net",APIKey:"",APISecret:"",UseSSL:!0},r.Client=new(t("./services/Client.js"))(r),r.Config=new(t("./services/Config.js"))(r),r.Jobs=new(t("./services/Jobs.js"))(r),e.exports=r},{"./services/Client.js":32,"./services/Config.js":33,"./services/Jobs.js":34}],32:[function(t,e,n){var r,o=function(e){r=e;var n=t("rest/interceptor");r.authInterceptor=function(t){if(!t.headers||!t.headers.Authorization){t.headers||(t.headers={});var e=r.Config.get("AccessToken");e&&e.access_token&&(t.headers.Authorization="Bearer "+e.access_token)}return t};var o=n({request:r.authInterceptor
});r.rest=t("rest").wrap(o)};o.prototype.buildUrl=function(t){var e=r.Config.get("UseSSL")?"https":"http";return e+="://",e+=r.Config.get("APIHost").replace("[env]",r.Config.get("APIEnv")),e+="/"+t},o.prototype.getAccessToken=function(){var e=t("rest/util/base64"),n="Basic "+e.encode(r.Config.get("APIKey")+":"+r.Config.get("APISecret")),o={path:r.Client.buildUrl("oauth/token"),method:"POST",entity:"grant_type=client_credentials",headers:{Authorization:n,"Content-Type":"application/x-www-form-urlencoded"}};return r.Client.request(o).then(function(t){return r.Config.set({AccessToken:t}),t})},o.prototype.getLogin=function(){return r.Client.buildUrl("oauth/login")+"?apiKey="+r.Config.get("APIKey")},o.prototype.getLogout=function(){return r.Client.buildUrl("oauth/logout")},o.prototype.request=function(t){return r.rest(t).then(function(t){if(t&&t.status&&t.status.code){if(t.status.code>=400)throw new Error("Request returned status code "+t.status.code+": "+t.request.method+" "+t.request.path);var e=t.entity;if(t.headers.hasOwnProperty("Content-Type")&&-1!==t.headers["Content-Type"].indexOf("application/json"))try{e=JSON.parse(e)}catch(n){throw new Error("Failed to parse JSON response.")}return e}throw new Error("Malformed request result.")})},e.exports=o},{rest:3,"rest/interceptor":7,"rest/util/base64":26}],33:[function(t,e,n){var r,o,i=function(t){r=t,this.reset()};i.prototype.get=function(t){return o[t]},i.prototype.reset=function(){o=Object.assign({},r.DefaultConfig)},i.prototype.set=function(t,e){if("string"==typeof t&&r.DefaultConfig.hasOwnProperty(t))o[t]=e;else for(var n in t)t.hasOwnProperty(n)&&r.DefaultConfig.hasOwnProperty(n)&&(o[n]=t[n])},e.exports=i},{}],34:[function(t,e,n){var r,o=function(t){r=t};o.prototype.get=function(t){var e={path:r.Client.buildUrl("discovery/jobs"),params:t};return r.Client.request(e)},e.exports=o},{}]},{},[30]);